<ion-content [fullscreen]="true">
  <main>
    <h5>Jadwalin</h5>
    <p>Your outdoor scheduler partner</p>
    <div class="weatherCardWrapper">
      <div>
        <img [src]="'https:' + currentWeatherIcon" />
        <p>{{ currentWeather }}</p>
      </div>
      <p>{{ currentWeatherCity }}</p>
    </div>
    <form (ngSubmit)="addTasks()">
      <ul>
        <li>
          <input type="text" [(ngModel)]="taskDescription" name="taskDescription" placeholder="Tambah kegiatan kamu!">
          <input type="time" [(ngModel)]="time" name="time">
        </li>
        <li>
          <button type="submit" class="addButton" [disabled]="!taskDescription || !time"
            [ngStyle]="{'background-color': (!taskDescription || !time) ? 'gray' : 'rgb(45, 101, 255)','cursor-pointer': (!taskDescription || !time) ? 'not-allowed' : 'pointer'}">Tambah</button>
        </li>
      </ul>
    </form>
    <div class="tasksSection">
      <div *ngFor="let task of tasks" class="taskWrapper">
        <div>
          <img class="iconPerCard" [src]="'https:' + task.icon" />
          <p>{{ task.time }}</p>
        </div>
        <div class="tasksCard">
          <div>
            {{ task.description }}
          </div>
          <footer>
            <p class="label" *ngIf="!task.completed"
              style="background: rgb(96, 218, 96); color: white; height: 100%; display: flex; align-items: center; padding: 0 5px; border-radius: 5px;">
              Sudah selesai</p>
            <p class="label" *ngIf="task.completed"
              style="background: tomato; color: white; height: 100%; display: flex; align-items: center; padding: 0 5px; border-radius: 5px;">
              Belum selesai</p>
            <div class="actionButtonWrapper">
              <button class="edit" (click)="editTasks(task)">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                  stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                  class="lucide lucide-pencil-icon lucide-pencil">
                  <path
                    d="M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z" />
                  <path d="m15 5 4 4" />
                </svg>
              </button>
              <button class="delete" (click)="deleteTasks(task.id)"><svg xmlns="http://www.w3.org/2000/svg" width="24"
                  height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                  stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-trash2-icon lucide-trash-2">
                  <path d="M10 11v6" />
                  <path d="M14 11v6" />
                  <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6" />
                  <path d="M3 6h18" />
                  <path d="M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2" />
                </svg></button>
              <button class="check" (click)="completedTasks(task)"><svg xmlns="http://www.w3.org/2000/svg" width="24"
                  height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                  stroke-linecap="round" stroke-linejoin="round"
                  class="lucide lucide-circle-check-icon lucide-circle-check">
                  <circle cx="12" cy="12" r="10" />
                  <path d="m9 12 2 2 4-4" />
                </svg></button>
            </div>
          </footer>
        </div>
      </div>
    </div>
  </main>
</ion-content>